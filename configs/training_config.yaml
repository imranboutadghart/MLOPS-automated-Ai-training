# Model Configuration
model:
  name: "classifier"
  input_size: 8  # Diabetes dataset: 8 features
  hidden_sizes: [512, 256, 128]
  dropout: 0.3
  activation: "relu"

# Validation Configuration
validation:
  max_null_ratio: 0.3  # Diabetes dataset - medical records should be complete

# Training Configuration
training:
  epochs: 10
  batch_size: 64
  learning_rate: 0.001
  weight_decay: 0.01
  val_split: 0.1
  gradient_accumulation_steps: 1
  mixed_precision: "fp16"
  checkpoint_every: 1000
  eval_every: 500

# Learning Rate Scheduler
scheduler:
  type: "cosine"
  warmup_steps: 100

# Data Configuration
data:
  raw_path: "/opt/airflow/data/raw/diabetes.csv"
  train_path: "/opt/airflow/data/processed/training"
  val_path: "/opt/airflow/data/processed/validation"
  test_path: "/opt/airflow/data/processed/test"
  preprocessing:
    missing_strategy: "mean"  # Replace 0s (missing values) with mean
    encoding_method: "label"
    scaling_method: "standard"

# Preprocessing Configuration
preprocessing:
  target_column: "Outcome"  # Binary: 1=diabetes, 0=no diabetes
  test_size: 0.15
  val_size: 0.15
  random_state: 42

# MLflow Configuration
mlflow:
  experiment_name: "distributed_training"
  model_registry_name: "production_classifier"
  tracking_uri: "${MLFLOW_TRACKING_URI}"

# Promotion Thresholds
promotion:
  min_accuracy: 0.70  # Diabetes is harder - 70% is reasonable
  min_f1_score: 0.65  # F1 threshold for imbalanced medical data
  improvement_threshold: 0.01

# Output Configuration
output:
  checkpoint_dir: "/app/checkpoints"
  log_dir: "/app/logs"
